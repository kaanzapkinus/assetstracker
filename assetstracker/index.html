<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AssetPulse | Crypto Portfolio Studio</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="glow-layer"></div>
    <header class="masthead">
        <div class="brand">
            <span class="logo-mark">AP</span>
            <div>
                <p class="title">AssetPulse</p>
                <p class="subtitle">CoinMarketCap powered tracker</p>
            </div>
        </div>
        <div class="status">
            <p class="timestamp" id="lastUpdated">Waiting for live data...</p>
            <button class="ghost-btn small" id="refreshAll">Refresh</button>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="intro">
                <p class="eyebrow">Live cockpit</p>
                <h1>Build your own holdings board and watch profit instantly.</h1>
                <p class="description">
                    Track Bitcoin, Ethereum and other majors with live CoinMarketCap prices.
                    Log the assets you hold, include amount and cost, and AssetPulse calculates profit/loss and trends
                    for you.
                </p>
                <div class="metric-grid">
                    <article>
                        <p class="label">Total portfolio value</p>
                        <h2 id="metricValue">$0</h2>
                        <small>Based on live market quotes</small>
                    </article>
                    <article>
                        <p class="label">Total cost basis</p>
                        <h2 id="metricCost">$0</h2>
                        <small>Sum of every position you entered</small>
                    </article>
                    <article>
                        <p class="label">Net profit / loss</p>
                        <h2 id="metricPnL">$0</h2>
                        <small id="metricPnLPercent">0%</small>
                    </article>
                </div>
            </div>
            <div class="panel insights">
                <div class="panel-head">
                    <div class="insight-tabs" id="insightTabs" role="tablist" aria-label="Insight views">
                        <button type="button" class="tab-btn active" data-insight="markets" aria-pressed="true">Markets</button>
                        <button type="button" class="tab-btn" data-insight="timeline" aria-pressed="false">Portfolio
                            timeline</button>
                        <button type="button" class="tab-btn" data-insight="allocation" aria-pressed="false">Allocation</button>
                    </div>
                </div>
                <div class="insight-view active" data-insight-view="markets">
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Asset</th>
                                    <th>Price</th>
                                    <th>24h</th>
                                    <th>7d</th>
                                    <th>Market cap</th>
                                </tr>
                            </thead>
                            <tbody id="trendingBody">
                                <tr>
                                    <td colspan="5">Data is loading...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="insight-view" data-insight-view="timeline">
                    <div class="timeline-controls" id="timelineControls" role="tablist" aria-label="Timeline ranges">
                        <button type="button" class="timeline-btn active" data-range="1h" aria-pressed="true">1H</button>
                        <button type="button" class="timeline-btn" data-range="24h" aria-pressed="false">24H</button>
                        <button type="button" class="timeline-btn" data-range="7d" aria-pressed="false">7D</button>
                    </div>
                    <canvas id="timelineChart" width="560" height="320" aria-label="Portfolio timeline chart"></canvas>
                    <p class="chart-note" id="timelineSummary">Waiting for positions...</p>
                </div>
                <div class="insight-view" data-insight-view="allocation">
                    <canvas id="allocationChart" width="560" height="320" aria-label="Portfolio allocation donut"></canvas>
                    <ul id="allocationLegend" class="allocation-legend"></ul>
                </div>
            </div>
        </section>

        <section class="panel custom">
            <div class="panel-head">
                <div>
                    <p class="eyebrow">Your holdings</p>
                    <h2>Add any asset you own</h2>
                </div>
            </div>
            <div id="alert" class="alert" role="status" aria-live="polite"></div>
            <div class="custom-grid">
                <form id="assetForm" class="asset-form">
                    <label for="assetSymbol">Asset symbol</label>
                    <div class="symbol-input">
                        <input type="text" id="assetSymbol" placeholder="BTC, ETH, SOL..." autocomplete="off" required>
                        <ul class="symbol-suggestions" id="symbolSuggestions" role="listbox" aria-live="polite"></ul>
                    </div>

                    <label for="assetAmount">Amount</label>
                    <input type="number" step="any" min="0" id="assetAmount" placeholder="0.5" required>

                    <label for="assetCost">Cost per unit (USD)</label>
                    <input type="number" step="any" min="0" id="assetCost" placeholder="35000" required>

                    <button type="submit" class="cta-btn">Add asset</button>
                </form>

                <div class="custom-list">
                    <div class="panel-head small">
                        <div>
                            <p class="eyebrow">Positions</p>
                            <h3>Live auto-refresh</h3>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table>
                            <thead>
                                <tr>
                                    <th>Asset</th>
                                    <th>Amount</th>
                                    <th>Cost average</th>
                                    <th>Spot price</th>
                                    <th>Value</th>
                                    <th>P/L</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="assetTableBody">
                                <tr>
                                    <td colspan="7">No assets added yet.</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="chart-panel">
                <div class="panel-head small">
                    <div>
                        <p class="eyebrow">Analytics</p>
                        <h3>P/L distribution</h3>
                    </div>
                    <button class="ghost-btn small" id="clearAssets">Clear all</button>
                </div>
                <canvas id="plChart" width="720" height="320" aria-label="Profit and loss bar chart"></canvas>
            </div>
        </section>
    </main>

    <footer>
        <p>AssetPulse - CoinMarketCap API data is used for educational purposes.</p>
    </footer>

    <script src="app.js" type="module"></script>
</body>

</html>
